<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Simple Imageboard</title>
<style>
body{font-family:sans-serif;background:#f4f4f4;margin:0;padding:20px}
button{padding:8px 14px;margin:4px;border-radius:12px;border:none;cursor:pointer}
.active{background:black;color:white}
.post{background:white;padding:12px;border-radius:14px;margin-bottom:12px}
img{max-width:100%;border-radius:12px;margin-top:8px}
textarea{width:100%;height:80px;margin-bottom:8px}
</style>
</head>
<body>
<h1>Simple Imageboard</h1>

<div id="groups">
<button onclick="setGroup('general')" id="g-general">general ðŸ™‚</button>
<button onclick="setGroup('hunts')" id="g-hunts">hunts ðŸ”Ž</button>
<button onclick="setGroup('dox')" id="g-dox">dox ðŸ“‚</button>
</div>

<h3>Nowa wiadomoÅ›Ä‡</h3>
<textarea id="text"></textarea>
<input type="file" id="img" accept="image/*" />
<br><br>
<button onclick="addPost()">Post</button>

<hr>
<div id="posts"></div>

<script>
let group='general';
const posts=JSON.parse(localStorage.getItem('posts')||'[]');

function setGroup(g){
 group=g;
 document.querySelectorAll('#groups button').forEach(b=>b.classList.remove('active'));
 document.getElementById('g-'+g).classList.add('active');
 render();
}

function addPost(){
 const text=document.getElementById('text').value;
 const file=document.getElementById('img').files[0];
 if(!text && !file) return;

 if(file){
  const reader=new FileReader();
  reader.onload=e=>savePost(text,e.target.result);
  reader.readAsDataURL(file);
 }
